<template>
    <lightning-card title="Gestión de Contactos">
        <div class="slds-m-around_medium">
            <lightning-input label="Nombre" value={firstName} onchange={handleInputChange} data-id="firstName"></lightning-input>
            <lightning-input label="Apellido" value={lastName} onchange={handleInputChange} data-id="lastName"></lightning-input>
            <lightning-input label="Correo Electrónico" value={email} onchange={handleInputChange} data-id="email" required></lightning-input>
            <lightning-input label="Número de Teléfono" value={phone} onchange={handleInputChange} data-id="phone"></lightning-input>

            <lightning-button variant="brand" label="Agregar Contacto" onclick={addContact} class="slds-m-top_medium"></lightning-button>
        </div>
    </lightning-card>

    <lightning-card title="Lista de Contactos" class="slds-m-top_medium">
        <template if:true={contacts}>
            <lightning-datatable
                key-field="id"
                data={contacts}
                columns={columns}
                onrowaction={handleRowAction}
                max-row-selection="5">
            </lightning-datatable>
        </template>
        <template if:true={isLoading}>
            <div class="slds-p-around_medium">Cargando...</div>
        </template>
    </lightning-card>
    <template if:true={error}>
        <c-error-panel errors={error}></c-error-panel>
    </template>
</template>
